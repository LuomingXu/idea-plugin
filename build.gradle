plugins {
    // Java
    id("java")
    // kotlin
    id("org.jetbrains.kotlin.jvm") version "1.5.30"
    id("org.jetbrains.intellij") version "1.1.4"
}

group = "com.github.luomingxu.idea"
version = '1.4.0'

repositories {
    mavenCentral()
}
dependencies {
    testImplementation group: 'junit', name: 'junit', version: '4.12'
}

// See https://github.com/JetBrains/gradle-intellij-plugin/
intellij {
    updateSinceUntilBuild = true
    type = "IC"
    version = "2021.3"
    pluginName = 'IdeaEnhance'

    plugins = ['com.intellij.java']

}

def config = new Properties()
file("config.yml").withInputStream { config.load(it) }

publishPlugin {
    token = config.get("token")
}

tasks.withType(JavaCompile) {
    options.encoding = "UTF-8"
    sourceCompatibility = "11"
    targetCompatibility = "11"
}
